<!DOCTYPE html>
<html lang="ko">

<head>
    <%- include('../partials/head') %>
        <style>
            .meditation-detail {
                background: white;
                padding: 1.5rem;
                border-radius: 15px;
                box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
                margin: 1.5rem auto 0;
                max-width: 900px;
            }

            .meditation-meta {
                color: var(--color-text-light);
                font-size: 1.1rem;
                margin-bottom: 2rem;
                padding-bottom: 1rem;
                border-bottom: 1px solid #eee;
            }

            .meditation-content {
                font-size: 1.15rem;
                line-height: 2;
                color: #2c3e50;
                background: #fff;
                padding: 1.5rem;
                border: 1px solid #e1e8ed;
                border-radius: 4px;
                box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.02);
                position: relative;
            }

            .back-btn {
                margin-top: 2rem;
                display: inline-block;
            }

            @media (max-width: 768px) {
                .container {
                    padding-top: 85px !important;
                }

                .meditation-detail {
                    padding: 1.5rem 1rem !important;
                    margin-top: 1rem;
                }

                .meditation-detail h2 {
                    font-size: 1.45rem !important;
                }

                .meditation-meta {
                    font-size: 0.9rem !important;
                    margin-bottom: 1.5rem;
                }

                .meditation-content {
                    font-size: 1rem !important;
                    padding: 1.25rem 0.75rem;
                    line-height: 1.7;
                }

                .btn-outline,
                .btn-primary {
                    padding: 8px 18px !important;
                    font-size: 0.85rem !important;
                }
            }
        </style>
</head>

<body>
    <%- include('../partials/header') %>

        <div class="container" style="padding-top: 100px; padding-bottom: 80px;">
            <div style="margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: center;">
                <a href="/word/meditation" class="btn btn-outline" style="border-radius: 50px; padding: 10px 25px;">
                    <i class="fas fa-arrow-left" style="margin-right: 8px;"></i> 목록으로
                </a>
                <% if (locals.user && user.isAdmin) { %>
                    <a href="/admin/edit/meditations/<%= meditation.id %>" class="btn btn-primary"
                        style="border-radius: 50px; padding: 10px 25px;">
                        <i class="fas fa-edit" style="margin-right: 8px;"></i> 수정하기
                    </a>
                    <% } %>
            </div>

            <div class="meditation-detail">
                <h2 style="color: var(--color-text); margin-bottom: 0.5rem;">
                    <%= meditation.title %>
                </h2>
                <div class="meditation-meta">
                    <i class="far fa-calendar-alt"></i>
                    <%= meditation.date %>
                </div>

                <div class="meditation-content">
                    <%- meditation.summary %>
                </div>

                <div style="margin-top: 3rem; text-align: center;">
                    <a href="/word/meditation" class="btn btn-outline" style="font-size: 0.9rem;">
                        <i class="fas fa-list" style="margin-right: 8px;"></i> 목록으로
                    </a>
                </div>
            </div>

            <%- include('../partials/recent-posts-table', { recentItems, currentId: meditation.id,
                basePath: 'word/meditation' }) %>
        </div>

        <%- include('../partials/footer') %>
            <script src="/js/main.js"></script>
</body>

</html>